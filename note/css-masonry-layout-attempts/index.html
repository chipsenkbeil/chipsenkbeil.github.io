<!DOCTYPE html>
<html 
    lang="en-us"
    class="no-js"
>



<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Your name">
    <meta name="description" content="Your description">
    
    <meta name="generator" content="Hugo 0.15-DEV" />
    <meta name="generation-date" content="2015-09-28 20:50:09.987037124 &#43;0000 UTC">
    <title>CSS Masonry Layout Attempts &middot; Senkbeil</title>
    <link rel="shortcut icon" href="http://chipsenkbeil.com/img/favicon.ico">
    <link rel="icon" href="http://chipsenkbeil.com/img/favicon.ico">
    
<link rel="stylesheet" href="http://chipsenkbeil.com/css/materialize.min.css">


<link rel="stylesheet" href="http://chipsenkbeil.com/css/font-awesome.min.css">


    
    <link rel="stylesheet" href="http://chipsenkbeil.com/css/styles/railscasts.css">



<link rel="stylesheet" href="http://chipsenkbeil.com/css/lightbox.css">


<link rel="stylesheet" href="http://chipsenkbeil.com/css/main.css">


    <script src="http://chipsenkbeil.com/js/modernizr-latest.js"></script>
    <script src="http://chipsenkbeil.com/js/lazysizes.min.js"></script>
    <script src="http://chipsenkbeil.com/js/ls.noscript.min.js"></script>

    <script>
        window.lazySizesConfig = window.lazySizesConfig || {};
        lazySizesConfig.addClasses = true;
        lazySizesConfig.loadMode = 2;
    </script>

    
</head>



<body class="page-colors minimum-viewport-height">
    
<nav class="main-menu menu-colors">
    <ul class="menu menu-colors no-list-float">
        <li><a href="http://chipsenkbeil.com/"><i class="fa fa-home fa-2x"></i></a></li>
        <li>
            <a href="#!"><i class="fa fa-bars fa-2x"></i></a>

            
            <ul class="menu flexible-width menu-colors no-list-float">
                
                
                    <li >
                    
                        <a href="#!">
                            
                            <span>About</span>
                            <span class="drop-right"></span>
                            
                        </a>
                        <ul class="menu flexible-width menu-colors no-list-float">
                            
                                <li >
                                    <a href="/pepper/">Pepper</a>
                                </li>
                            
                                <li >
                                    <a href="/resume/">Resume</a>
                                </li>
                            
                        </ul>
                    
                    </li>
                
                    <li >
                    
                        <a href="#!">
                            
                            <span>Blog</span>
                            <span class="drop-right"></span>
                            
                        </a>
                        <ul class="menu flexible-width menu-colors no-list-float">
                            
                                <li >
                                    <a href="/note/">Notes</a>
                                </li>
                            
                                <li >
                                    <a href="/post/">Posts</a>
                                </li>
                            
                                <li >
                                    <a href="#!">Snippets</a>
                                </li>
                            
                                <li >
                                    <a href="/talk/">Talks</a>
                                </li>
                            
                        </ul>
                    
                    </li>
                
                    <li >
                    
                        <a href="#!">
                            
                            <span>Projects</span>
                            <span class="drop-right"></span>
                            
                        </a>
                        <ul class="menu flexible-width menu-colors no-list-float">
                            
                                <li >
                                    <a href="#!">Hardware</a>
                                </li>
                            
                                <li >
                                    <a href="/software/">Software</a>
                                </li>
                            
                        </ul>
                    
                    </li>
                
            </ul>
        </li>
        <li><a href="#!" data-lightbox-id="searchbox"><i class="fa fa-search fa-2x"></i></a></li>
        
            <li class="blue-grey-text" style="border-top: 1px solid;"></li>
            
                <li>
                    <a href="https://twitter.com/ChipSenkbeil">
                        <i class="fa fa-twitter fa-2x"></i>
                    </a>
                </li>
            
                <li>
                    <a href="https://www.linkedin.com/in/robertsenkbeil">
                        <i class="fa fa-linkedin fa-2x"></i>
                    </a>
                </li>
            
                <li>
                    <a href="https://www.google.com/&#43;ChipSenkbeil">
                        <i class="fa fa-google-plus fa-2x"></i>
                    </a>
                </li>
            
                <li>
                    <a href="https://www.github.com/chipsenkbeil">
                        <i class="fa fa-github fa-2x"></i>
                    </a>
                </li>
            
        
        <li class="blue-grey-text" style="border-top: 1px solid;"></li>
        <li>
            <a href="" type="application/rss+xml" target="_blank">
                <i class="fa fa-rss fa-2x"></i>
            </a>
        </li>
    </ul>
</nav>

<div id="searchbox" class="no-display">
    <div class="valign-wrapper fill-container">
        <div class="valign large-form horizontal-center-hack">
            <form method="get" id="search" action="http://duckduckgo.com/">
    <input type="hidden" name="sites"value="http://chipsenkbeil.com/"/>
    <input type="hidden" name="ka" value="h"/>
    <input type="hidden" name="k7" value="#fafafa"/>
    <input type="hidden" name="kj" value="#3f3f3f"/>
    <input type="hidden" name="ky" value="#fafafa"/>
    <input type="hidden" name="kx" value="b"/>
    <input type="hidden" name="kt" value="Helvetica"/>
    <input type="text" name="q" maxlength="255" placeholder="Search"/>
    <input type="submit" value="DuckDuckGo Search" style="visibility: hidden;" />
</form>


        </div>
    </div>
</div>





    <div class="main-content">
        <div class="center-space">
            <div class="article-colors">
                
                <article>
                    <header>
                        <h1 class="article-title">CSS Masonry Layout Attempts</h1>
                        <time class="date-color">Wed Sep 02, 2015</time>
                        <span class="separator">|</span>
                        <ul class="categories">
    <li>
        <i class="fa fa-book"></i>
    </li>
    
        <li><a href="/categories/experiment">experiment</a></li>
    
</ul>


                        <span class="separator">|</span>
                        <ul class="tags">
    <li>
        <i class="fa fa-tags"></i>
    </li>
    
        <li><a href="/tags/css">css</a></li>
    
</ul>


                    </header>

                    <hr>

                    <section>
                        
                            

<p>I spent two days investigating this and could not find a solution that worked.
Eventually, I gave up and added the Masonry Javascript library. My two
attempts were as follows:</p>

<h3 id="using-css-columns:a91a7d6dc4988411aae05fc3f68642cf">Using CSS Columns</h3>

<p>CSS Columns enabled an easy, powerful way to spread page summaries across
multiple columns. Furthermore, you can prevent page summaries from being
broken up in the middle by using <code>column-break-inside: avoid;</code>. However, I had
no way to order the page summaries dynamically such that the most recent
summaries were at the top (from left to right) and older summaries were found
further down. Instead, this resulted in the latest summary starting in the top
left with older summaries going down the first column and into the second, etc.</p>
.page-summary-container {
    -moz-column-count: 3;
    -webkit-column-count: 3;
    column-count: 3;

    -moz-column-gap: 0;
    -webkit-column-gap: 0;
    column-gap: 0;
}

.page-summary {
    display: inline-block;
    -webkit-column-break-inside: avoid; /* Chrome, Safari */
    -moz-column-break-inside:avoid;
    -o-column-break-inside:avoid;
    -ms-column-break-inside:avoid;
    column-break-inside:avoid;
    page-break-inside: avoid;           /* Theoretically FF 20+ */
    break-inside: avoid-column;         /* IE 11 */
}

<h3 id="using-flexbox:a91a7d6dc4988411aae05fc3f68642cf">Using Flexbox</h3>

<p>This involved using flexbox to simulate a Masonry layout by using
<code>flex-flow: column wrap</code> to have items flow from top to bottom with no extra
spacing (similar to Masonry). There were two issues with this approach: page
summaries still flowed from top to bottom instead of left to right and
I couldn&rsquo;t control wrapping the column into the next column without providing
a fixed-height container.</p>

<p>The first issue was able to be solved by swapping the order of the elements,
which you can do in flexbox. Since the list page is using pagination (meaning
that I can guarantee the total page summaries per page), ordering the elements
was as simple as adding child selectors to break up the order based on the
number of elements:</p>
.page-summary:nth-child(3n+1) {
    order: 1;
}

.page-summary:nth-child(3n+2) {
    order: 2;
}

.page-summary:nth-child(3n) {
    order: 3;
}

<p>Unfortunately, as I couldn&rsquo;t provide a fixed-height container, the column
approach did not work as all elements stayed in the first column. I could not
find any working way to forcefully wrap flexbox elements after a certain
element when using <em>column</em> as the flow instead of <em>row</em> (where you can set
the row item to a width of <em>100%</em>).</p>

<p>I could have forced a specific height for the page summaries as I know how big
the text will be (roughly) if I use an ellipsis for overflow on the title (and
the summary is always 70 words max). However, the optional image throws off my
sizing estimates.</p>

                        
                    </section>

                    <footer class="right-align">
                        <p><small>Copyright &#169; by Chip Senkbeil</small></p>
                    </footer>

                    
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'chipsenkbeil';
        var disqus_identifier = 'http:\/\/chipsenkbeil.com\/note\/css-masonry-layout-attempts\/';
        var disqus_title = 'CSS Masonry Layout Attempts';
        var disqus_url = 'http:\/\/chipsenkbeil.com\/note\/css-masonry-layout-attempts\/';
        (function() {
            
            if (window.location.hostname === "localhost") {
                return;
            }

            var dsq = document.createElement('script'); 
            dsq.type = 'text/javascript'; 
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            (document.getElementsByTagName('head')[0] || 
                document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



                </article>
            </div>
        </div>
    </div>

    
<script src="http://chipsenkbeil.com/js/jquery-2.1.4.min.js"></script>


<script src="http://chipsenkbeil.com/js/materialize.min.js"></script>


<script src="http://chipsenkbeil.com/js/imagesloaded.pkgd.min.js"></script>


<script src="http://chipsenkbeil.com/js/masonry.pkgd.min.js"></script>


    
    <script src="http://chipsenkbeil.com/js/highlight.pack.js"></script>



<script src="http://chipsenkbeil.com/js/lightbox.min.js"></script>


<script src="http://chipsenkbeil.com/js/jquery.infinitescroll.min.js"></script>


<script src="http://chipsenkbeil.com/js/main.js"></script>


</body>

</html>





